<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../static/homepage.css"/>
        <title>Daily Recommendations</title>
    </head>
    <body>
        <main>
            <div class = "title" style="background-image: url('https://freerangestock.com/sample/166038/fresh-ingredients-for-healthy-cooking-on-white.jpg');"><mark>Daily Recommendations</mark></div>
            <div class = "subtitle"><h2>Discover Your Daily Nutrient Recommendations</h2></div>
            <form class="input-form" method="POST" action="/recommendations/#scrollto">
                <br>
                <label for="sex">Please select your biological sex:</label>
                <div>
                    <select class = "demographics-form" id="sex" name="sex">
                        <option value="female">Female</option>
                        <option value="male">Male</option>    
                        <option value="other">Other</option>
                    </select>
                </div>
                <label for="age">Please input your age in years:</label>
                <div>
                    <select class = "demographics-form" id="age" name="age">
                        <option value="1-3">1-3</option>
                        <option value="4-8">4-8</option>
                        <option value="9-13">9-13</option>    
                        <option value="14-18">14-18</option>
                        <option value="19-30">19-30</option>
                        <option value="31-50">31-50</option>
                        <option value="51+">51+</option>
                    </select>
                </div>
                <input type="submit" value="Submit">
                <br>
                <br>
            </form>
            <br>
            <div class="nutrientOutput" id="scrollto">
                {% if age is not none %}
                    <div><h1>Your Recommended Intakes as a {{ age }} Year Old of {{ sex | title }} Biological Sex:</h1></div>
                    
                    {% if age == "1-3" %}
                        {% set ageIndex = 0 | int %}
                    {% elif age == "4-8" %}
                        {% set ageIndex = 1 | int %}
                    {% elif age == "9-13" %}
                        {% set ageIndex = 2 | int %}
                    {% elif age == "14-18" %}
                        {% set ageIndex = 3 | int %}
                    {% elif age == "19-30" %}
                        {% set ageIndex = 4 | int %}
                    {% elif age == "31-50" %}
                        {% set ageIndex = 5 | int %}
                    {% elif age == "51+" %}
                        {% set ageIndex = 6 | int %}
                    {% endif %}

                    {% if sex == "male" %}
                        {% set sexIndex = 0 | int %}
                    {% elif sex == "female" %}
                        {% set sexIndex = 1 | int %}
                    {% elif sex == "other" %}
                        {% set sexIndex = 2 | int %}
                        {% set notice = "The values for the selected value of 'Other' are an average of the male and female options due to a lack of available data." %}
                    {% endif %}

                    {% set nutrientAmounts = [[[1000,13,130,14,"30-40%",700,7,3000,1500,0.34],[1000,13,130,14,"30-40%",700,7,3000,1500,0.34],[1000,13,130,14,"30-40%",700,7,3000,1500,0.34]],
                                                [[1400,19,130,19.6,"25-35%",1000,10,3800,1900,0.44],[1200, 19,130,16.8,"25-35%",1000,10,3800,1900,0.44],[1300,19,130,18.2,"25-35%",1000,10,3800,1900,0.44]],
                                                [[1800,34,130,25.2,"25-35%",1300,8,4500,2200,0.7],[1600,34,130,22.4,"25-35%",1300,8,4500,2200,0.7],[1700,34,130,23.8,"25-35%",1300,8,4500,2200,0.7]],
                                                [[2800,52,130,30.8,"25-35%",1300,11,4700,2300,0.89],[1800,46,130,25.2,"25-35%",1300,15,4700,2300,0.89],[2300,49,130,28,"25-35%",1300,13,4700,2300,0.89]],
                                                [[2600,56,130,33.6,"20-35%",1000,8,4700,2300,0.9],[2000,46,130,28,"20-35%",1000,18,4700,2300,0.9],[2300,51,130,30.8,"20-35%",1000,13,4700,2300,0.9]],
                                                [[2200,56,130,30.8,"20-35%",1000,8,4700,2300,0.9],[1800,46,130,25.2,"20-35%",1000,18,4700,2300,0.9],[2000,51,130,28,"20-35%",1000,13,4700,2300,0.9]],
                                                [[2000,56,130,28,"20-35%",1200,8,4700,2300,0.9],[1600,46,130,22.4,"20-35%",1200,8,4700,2300,0.9],[1800,51,130,25.2,"20-35%",1200,8,4700,2300,0.9]]] %}

                    <div class="nutrientreturn">
                        <h6>Recommended quantities based on a {{ nutrientAmounts[ageIndex][sexIndex][0] }} calorie diet.</h6>
                        <h6>{{ notice }}</h6>
                        <h1>Macro Nutrients:</h1>
                            <ul>
                                <li>Protein(g): {{ nutrientAmounts[ageIndex][sexIndex][1] }}</li>
                                <li>Carbohydrate(g): {{ nutrientAmounts[ageIndex][sexIndex][2] }}</li>
                                <li>Dietary Fiber(g): {{ nutrientAmounts[ageIndex][sexIndex][3] }}</li>
                                <li>Total Fat(% of Daily Intake): {{ nutrientAmounts[ageIndex][sexIndex][4] }}</li>
                            </ul>  
                        <h1>Minerals:</h1>
                            <ul>
                                <li>Calcium(mg): {{ nutrientAmounts[ageIndex][sexIndex][5] }}</li>
                                <li>Iron(mg): {{ nutrientAmounts[ageIndex][sexIndex][6] }}</li>
                                <li>Potassium(mg): {{ nutrientAmounts[ageIndex][sexIndex][7] }}</li>
                                <li>Sodium(mg): {{ nutrientAmounts[ageIndex][sexIndex][8] }}</li>
                                <li>Copper(mg): {{ nutrientAmounts[ageIndex][sexIndex][9] }}</li>
                            </ul>
                    </div>
                {% endif %}
                <h1><a href="/nutrients/">Learn More About These Nutrients</a></h1>
                <h1><a href="https://odphp.health.gov/sites/default/files/2019-09/Appendix-E3-1-Table-A4.pdf">Source of Daily Values</a></h1>
            </div>
            <br>
        </main>
        <header>
            <a href="/"><img src="https://images.rawpixel.com/image_800/cHJpdmF0ZS9sci9pbWFnZXMvd2Vic2l0ZS8yMDIyLTA0L2pvYjY4Ni0yNTUuanBn.jpg"></a>
            <h1><a href="/">Nutritrack</a></h1>
            <nav>
                <ul>
                    <li><a href="/nutrients/">Nutrient Information</a></li>
                    <li><a href="/food-search/">Food Search</a></li>
                    <li><a href="/recommendations/">Daily Recommendations</a></li>
                </ul>
            </nav>
        </header>
    </body>
</html>